from typing import Generator, Tuple

# Generator[...] указывает, что функция является генератором.
# Вместо того чтобы вычислять и возвращать сразу весь список точек,
# она "генерирует" их по одной, что экономит память, особенно для очень длинных линий.

def bresenham(x0: int, y0: int, x1: int, y1: int) -> Generator[Tuple[int, int], None, None]:
    """
    Генерирует последовательность точек для линии от (x0, y0) до (x1, y1)
    с использованием алгоритма Брезенхэма.
    """
    dx = abs(x1 - x0)
    dy = -abs(y1 - y0)

    sx = 1 if x0 < x1 else -1
    sy = 1 if y0 < y1 else -1

    err = dx + dy
    x, y = x0, y0

    while True:
        # Это ключевое слово делает функцию генератором.
        # Оно "возвращает" текущую точку (x, y) и приостанавливает выполнение функции.
        # Когда следующий элемент запрашивается (например, в цикле for),
        # выполнение возобновляется с этого места.
        yield x, y
        if x == x1 and y == y1:
            break
        e2 = 2 * err
        if e2 >= dy:
            err += dy
            x += sx
        if e2 <= dx:
            err += dx
            y += sy